#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
PLC配置文件
集中管理PLC连接参数和数据读取配置
"""

# PLC连接配置
PLC_CONFIG = {
    'ip_address': '172.16.10.66',  # PLC的IP地址
    'rack': 0,                     # 机架号
    'slot': 1,                     # 插槽号
    'timeout': 5000,               # 连接超时时间（毫秒）
}

# 数据块配置
DB_CONFIG = {
    'db_number': 9000,             # DB块号
    'read_size': 100,              # 默认读取字节数
    'start_address': 0,            # 默认起始地址
}

# 数据类型映射（示例）
DATA_TYPES = {
    # 地址: (数据类型, 描述)
    0: ('INT16', '温度值'),
    2: ('INT16', '压力值'),
    4: ('INT32', '计数器'),
    8: ('REAL', '流量值'),
    12: ('REAL', '液位值'),
    16: ('BOOL', '运行状态'),
    20: ('STRING', '设备名称'),
}

# 布尔数据配置（32个布尔值，从地址0开始）
BOOL_DATA_CONFIG = {
    'db_number': 9000,             # DB块号
    'start_address': 0,            # 起始地址
    'count': 32,                   # 布尔值数量
    'mapping': {
        # B1-B8: 地址0.0 - 0.7
        'B1': (0, 0), 'B2': (0, 1), 'B3': (0, 2), 'B4': (0, 3),
        'B5': (0, 4), 'B6': (0, 5), 'B7': (0, 6), 'B8': (0, 7),
        # B9-B16: 地址1.0 - 1.7
        'B9': (1, 0), 'B10': (1, 1), 'B11': (1, 2), 'B12': (1, 3),
        'B13': (1, 4), 'B14': (1, 5), 'B15': (1, 6), 'B16': (1, 7),
        # B17-B24: 地址2.0 - 2.7
        'B17': (2, 0), 'B18': (2, 1), 'B19': (2, 2), 'B20': (2, 3),
        'B21': (2, 4), 'B22': (2, 5), 'B23': (2, 6), 'B24': (2, 7),
        # B25-B32: 地址3.0 - 3.7
        'B25': (3, 0), 'B26': (3, 1), 'B27': (3, 2), 'B28': (3, 3),
        'B29': (3, 4), 'B30': (3, 5), 'B31': (3, 6), 'B32': (3, 7)
    }
}

# 日志配置
LOG_CONFIG = {
    'level': 'INFO',               # 日志级别
    'file': 'db9000_reader.log',   # 日志文件名
    'format': '%(asctime)s - %(levelname)s - %(message)s',
}

# 读取间隔配置（用于连续读取）
READ_INTERVAL = {
    'enabled': False,              # 是否启用连续读取
    'interval_seconds': 5,         # 读取间隔（秒）
    'max_reads': 100,              # 最大读取次数（0表示无限）
} 